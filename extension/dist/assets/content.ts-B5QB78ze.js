(function(){function w(){var u,r,f,i,h,d,x;const n=document.getElementById("__mastra_panel");if(n)return n;const e=document.createElement("div");e.id="__mastra_panel",e.style.position="fixed",e.style.top="0",e.style.right="0",e.style.height="100%",e.style.width="420px",e.style.maxWidth="min(90vw, 480px)",e.style.zIndex="2147483647",e.style.background="#f6f7fb",e.style.borderLeft="1px solid #e5e7eb",e.style.boxShadow="-8px 0 24px rgba(17,24,39,0.06)",e.style.display="none";const E=e.attachShadow({mode:"open"}),o=document.createElement("div");o.style.height="100%",o.style.width="100%",o.style.display="flex",o.style.flexDirection="column";const t=document.createElement("div");t.style.height="40px",t.style.display="flex",t.style.alignItems="center",t.style.justifyContent="space-between",t.style.padding="0 10px",t.style.background="#ffffff",t.style.color="#111827",t.style.borderBottom="1px solid #e5e7eb";const y=document.createElement("div");y.style.fontWeight="600";const m=document.createElement("span");m.textContent="Agent n8n";const s=document.createElement("span");s.textContent="v0.1",s.style.fontSize="11px",s.style.color="#6b7280",s.style.marginLeft="6px",s.style.verticalAlign="middle";const a=document.createElement("span");a.style.fontSize="11px",a.style.color="#6b7280",a.style.marginLeft="8px";try{(x=(d=(h=(i=(f=(r=(u=chrome.storage)==null?void 0:u.local)==null?void 0:r.get)==null?void 0:f.call(r,["user"]))==null?void 0:i.then)==null?void 0:h.call(i,p=>{var g;const b=((g=p==null?void 0:p.user)==null?void 0:g.email)||"";b&&(a.textContent=`— ${b}`)}))==null?void 0:d.catch)==null||x.call(d,()=>{})}catch{}y.append(m,s,a);const l=document.createElement("button");l.textContent="×",l.style.background="transparent",l.style.border="none",l.style.color="#111827",l.style.fontSize="20px",l.style.cursor="pointer",l.addEventListener("click",()=>e.style.display="none"),t.append(y,l);const c=document.createElement("iframe"),v=chrome.runtime.getURL("popup.html");return c.src=v,c.style.border="0",c.style.width="100%",c.style.height="calc(100% - 40px)",c.style.background="transparent",o.append(t,c),E.appendChild(o),document.documentElement.appendChild(e),e}try{chrome.runtime.onMessage.addListener(n=>{if((n==null?void 0:n.type)==="toggle-panel"){const e=w();e.style.display=e.style.display==="none"?"block":"none"}else if((n==null?void 0:n.type)==="close-panel"){const e=document.getElementById("__mastra_panel");e&&(e.style.display="none")}})}catch{}
//# sourceMappingURL=content.ts-B5QB78ze.js.map
})()
